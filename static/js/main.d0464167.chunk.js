(this["webpackJsonpfinance-tracker"]=this["webpackJsonpfinance-tracker"]||[]).push([[0],{39:function(e,a,t){e.exports=t(71)},44:function(e,a,t){},45:function(e,a,t){},64:function(e,a,t){},68:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(44),t(16)),m=t(10);t(45);function s(){return r.a.createElement("div",null,"About")}var i=t(12),u=t(19),p=t.n(u),d=t(34),E=t(8),v=t(20),f=t.n(v),b=(t(64),t(21)),h=t.n(b);function N(e){var a=e.balance,t=e.income,n=e.expenseAmount,c=e.incomeDate;return r.a.createElement("div",{className:"tracker-display"},r.a.createElement("div",{className:"tracker__display-title"},r.a.createElement("h4",{className:"tracker__display-title-text"},"Your Balance:"),r.a.createElement("h1",{className:"tracker__display-title-number",id:"balance"},"$",a)),r.a.createElement("div",{className:"tracker__display"},r.a.createElement("div",{className:"tracker__display-item"},r.a.createElement("span",{className:"tracker__display-item-title"},"Income ",r.a.createElement("span",{className:"tooltip",title:"Last entry: "+c},r.a.createElement("span",null,"?"))),r.a.createElement("p",{id:"money-plus",className:"color-green"},"$",t)),r.a.createElement("div",{className:"tracker__display-item"},r.a.createElement("span",{className:"tracker__display-item-title"},"Expense"),r.a.createElement("p",{id:"money-minus",className:"color-red"},"$",n))))}var y=t(13),x=t.n(y);function k(e){var a=e.expense,t=e.handleDeleteHistoryItem;function n(e){var a=x()(e.target).attr("amount"),n=Number(e.target.name);t(Number(a),n)}return r.a.createElement("div",{className:"tracker-history"},r.a.createElement("h3",{className:"tracker-history__title"},"History"),r.a.createElement("ul",{id:"tracker-history",className:"tracker-history__list"},a.length>0?a.map((function(e,a){return r.a.createElement("li",{key:a,className:"tracker-history__list-item icon-plus"},r.a.createElement("div",{className:"tracker-history__list-item-text"},e[0]," ",r.a.createElement("span",null,"+",e[1],"$")),r.a.createElement("button",{className:"tracker-history__list-item-btn btn-delete",name:a,amount:e[1],title:"Remove",onClick:n},"x"))})):r.a.createElement("span",{className:"centered"},"No data... ",r.a.createElement("br",null)," Add your expense to track history")))}var _=t(1),g=t(35),j=t(15),A=t.n(j),O=t(38);function w(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)({incomeAmount:0,expense:"",expenseAmount:0,expenseType:""}),m=Object(E.a)(o,2),s=m[0],i=m[1],u=function(e){i(Object(g.a)({},s,Object(_.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"tracker-add-trans"},r.a.createElement("h3",null,"Add new transaction"),r.a.createElement("form",{id:"form",className:"form tracker-add-trans__form"},r.a.createElement(O.a,{options:[{value:"expense",label:"Add Expense"},{value:"income",label:"Add Income"},{value:"incomeRemove",label:"Remove Income"}],className:"form-select",onChange:function(e){var a=x()("[data-transaction-view]"),t=!0,n=!1,r=void 0;try{for(var c,o=a[Symbol.iterator]();!(t=(c=o.next()).done);t=!0){var m=c.value;x()(m).hide(),l(e.value)}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}x()('[data-transaction-view="'.concat(e.value,'"]')).fadeIn()}}),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"expense"},r.a.createElement("span",null,"Text"),r.a.createElement("input",{type:"text",name:"expense",value:s.expense,onChange:u,placeholder:"Enter text..."}),r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"expenseAmount",value:s.expenseAmount,onChange:u,placeholder:"Enter Amount..."}),r.a.createElement("span",null,"Type"),r.a.createElement("input",{type:"text",name:"expenseType",value:s.expenseType,onChange:u,placeholder:"Enter type of expense..."})),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"income"},r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"incomeAmount",value:s.incomeAmount,onChange:u,placeholder:"Enter amount..."})),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"incomeRemove"},r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"incomeRemove",value:s.incomeRemove,onChange:u,placeholder:"Enter amount..."})),r.a.createElement("div",{className:"form-btn-wrap"},r.a.createElement("button",{className:"form-btn btn",onClick:function(a){a.preventDefault();var t=s.incomeAmount,n=s.incomeRemove,r=s.expense,l=s.expenseAmount,o=s.expenseType;switch(c){case"income":0!==t?e.handleIncome(t):A.a.fire({title:"Error!",text:"Ammount can't be 0",icon:"error"});break;case"expense":""!==r||0!==l&&"string"!=typeof l&&""!==o?e.handleExpense(r,l,o):A.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"});break;case"incomeRemove":""!==n?e.handleIncomeRemove(n):A.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"});break;default:A.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"})}i({incomeAmount:0,expense:"",expenseAmount:0})}},"Add transaction"),r.a.createElement("button",{className:"form-btn btn btn-green",onClick:e.updateDB},"Save"))))}t(68);function S(e){var a=e.summary,t=e.totalExpenses;return r.a.createElement("div",null,r.a.createElement("h2",{className:"centered"},"Summary:"),r.a.createElement("ul",null,a.map((function(e,a){return r.a.createElement("li",{key:a},e.name," - ",(e.ammount/t*100).toFixed(2),"%")}))))}var C="https://finance-tracker-srv.herokuapp.com/api/finance-account";function I(e){var a=Object(n.useState)(0),t=Object(E.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(""),m=Object(E.a)(o,2),s=m[0],u=m[1],v=Object(n.useState)([]),b=Object(E.a)(v,2),y=b[0],x=b[1],_=Object(n.useState)([]),g=Object(E.a)(_,2),j=g[0],A=g[1],O=Object(n.useState)(0),I=Object(E.a)(O,2),R=I[0],D=I[1],T=Object(n.useState)(0),B=Object(E.a)(T,2),$=B[0],H=B[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(p.a.mark((function e(){var a,t,n,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(C);case 2:a=e.sent,t=a.data.results[0],n=t.balance,r=t.income,c=t.income_date,o=t.expense,D(n),l(r),u(c),x(o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=y.map((function(e,a,t){e[1];for(var n=e[2],r={name:"",ammount:0},c=0;c<y.length;c++)n===y[c][2]&&(console.log(n),r.name=n,r.ammount+=Number(y[c][1]));return r})),a=h.a.uniqWith(e,h.a.isEqual);A(a),H(L())}),[y]);var L=function(){return y.reduce((function(e,a){return Number(e)+Number(a[1])}),0)};return r.a.createElement("div",{className:"tracker"},r.a.createElement("div",{className:"tracker-panel"}),r.a.createElement("div",{className:"tracker-panel"},r.a.createElement(N,{balance:R,income:c,incomeDate:s,expenseAmount:L()}),r.a.createElement(k,{expense:y,handleDeleteHistoryItem:function(e,a){var t=Object(i.a)(y);-1!==a&&(t.splice(a,1),x(t),D(R+e))}}),r.a.createElement(w,{income:c,handleIncome:function(e){l(Number(c)+Number(e)),u((new Date).toLocaleDateString()),D(R+Number(e))},handleExpense:function(e,a,t){x([].concat(Object(i.a)(y),[[e,a,t.toLowerCase()]])),D(R-Number(a))},handleIncomeRemove:function(e){l(Number(c)-Number(e)),D(R-Number(e))},updateDB:function(){f.a.put("".concat(C,"/0"),{_id:0,name:"admin",balance:R,income:c,income_date:s,expense:y},{headers:{"Content-type":"application/json"}}).catch((function(e){console.log(e)}))}})),r.a.createElement("div",{className:"tracker-panel"},r.a.createElement(S,{summary:j,totalExpenses:$})))}var R=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,{basename:"finance-tracker"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"header"},r.a.createElement("nav",{className:"navigation"},r.a.createElement(o.b,{to:"/",className:"navigation__link"},"Home"),r.a.createElement(o.b,{to:"/about",className:"navigation__link"},"About")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:I}),r.a.createElement(m.a,{path:"/about",component:s}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.d0464167.chunk.js.map