(this["webpackJsonpfinance-tracker"]=this["webpackJsonpfinance-tracker"]||[]).push([[0],{196:function(e,a,t){e.exports=t(400)},201:function(e,a,t){},202:function(e,a,t){},220:function(e,a,t){},397:function(e,a,t){},400:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(18),l=t.n(c),m=(t(201),t(64)),o=t(23);t(202);function s(){return r.a.createElement("div",null,"About")}var i=t(37),u=t(90),p=t.n(u),d=t(155),E=t(15),f=t(91),v=t.n(f),b=(t(220),t(92)),h=t.n(b);function y(e){var a=e.balance,t=e.income,n=e.expenseAmount,c=e.incomeDate;return r.a.createElement("div",{className:"tracker-display"},r.a.createElement("div",{className:"tracker__display-title"},r.a.createElement("h4",{className:"tracker__display-title-text"},"Your Balance:"),r.a.createElement("h1",{className:"tracker__display-title-number",id:"balance"},"$",a)),r.a.createElement("div",{className:"tracker__display"},r.a.createElement("div",{className:"tracker__display-item"},r.a.createElement("span",{className:"tracker__display-item-title"},"Income ",r.a.createElement("span",{className:"tooltip",title:"Last entry: "+c},r.a.createElement("span",null,"?"))),r.a.createElement("p",{id:"money-plus",className:"color-green"},"$",t)),r.a.createElement("div",{className:"tracker__display-item"},r.a.createElement("span",{className:"tracker__display-item-title"},"Expense"),r.a.createElement("p",{id:"money-minus",className:"color-red"},"$",n))))}var N=t(38),x=t.n(N);function k(e){var a=e.expense,t=e.handleDeleteHistoryItem;function n(e){var a=x()(e.target).attr("amount"),n=Number(e.target.name);t(Number(a),n)}return r.a.createElement("div",{className:"tracker-history"},r.a.createElement("h3",{className:"tracker-history__title"},"History"),r.a.createElement("ul",{id:"tracker-history",className:"tracker-history__list"},a.length>0?a.map((function(e,a){return r.a.createElement("li",{key:a,className:"tracker-history__list-item icon-plus"},r.a.createElement("div",{className:"tracker-history__list-item-text"},e[0]," ",r.a.createElement("span",null,"+",e[1],"$")),r.a.createElement("button",{className:"tracker-history__list-item-btn btn-delete",name:a,amount:e[1],title:"Remove",onClick:n},"x"))})):r.a.createElement("span",{className:"centered"},"No data... ",r.a.createElement("br",null)," Add your expense to track history")))}var _=t(2),g=t(156),j=t(46),w=t.n(j),A=t(167);function O(e){var a=Object(n.useState)(""),t=Object(E.a)(a,2),c=t[0],l=t[1],m=Object(n.useState)({incomeAmount:0,expense:"",expenseAmount:0,expenseType:""}),o=Object(E.a)(m,2),s=o[0],i=o[1],u=function(e){i(Object(g.a)({},s,Object(_.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"tracker-add-trans"},r.a.createElement("h3",null,"Add new transaction"),r.a.createElement("form",{id:"form",className:"form tracker-add-trans__form"},r.a.createElement(A.a,{options:[{value:"expense",label:"Add Expense"},{value:"income",label:"Add Income"},{value:"incomeRemove",label:"Remove Income"}],className:"form-select",onChange:function(e){var a=x()("[data-transaction-view]"),t=!0,n=!1,r=void 0;try{for(var c,m=a[Symbol.iterator]();!(t=(c=m.next()).done);t=!0){var o=c.value;x()(o).hide(),l(e.value)}}catch(s){n=!0,r=s}finally{try{t||null==m.return||m.return()}finally{if(n)throw r}}x()('[data-transaction-view="'.concat(e.value,'"]')).fadeIn()}}),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"expense"},r.a.createElement("span",null,"Text"),r.a.createElement("input",{type:"text",name:"expense",value:s.expense,onChange:u,placeholder:"Enter text..."}),r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"expenseAmount",value:s.expenseAmount,onChange:u,placeholder:"Enter Amount..."}),r.a.createElement("span",null,"Type"),r.a.createElement("input",{type:"text",name:"expenseType",value:s.expenseType,onChange:u,placeholder:"Enter type of expense..."})),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"income"},r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"incomeAmount",value:s.incomeAmount,onChange:u,placeholder:"Enter amount..."})),r.a.createElement("div",{className:"form-control tracker-add-trans__form-item","data-transaction-view":"incomeRemove"},r.a.createElement("span",null,"Amount"),r.a.createElement("input",{type:"number",name:"incomeRemove",value:s.incomeRemove,onChange:u,placeholder:"Enter amount..."})),r.a.createElement("div",{className:"form-btn-wrap"},r.a.createElement("button",{className:"form-btn btn",onClick:function(a){a.preventDefault();var t=s.incomeAmount,n=s.incomeRemove,r=s.expense,l=s.expenseAmount,m=s.expenseType;switch(c){case"income":0!==t?e.handleIncome(t):w.a.fire({title:"Error!",text:"Amount can't be 0",icon:"error"});break;case"expense":""!==r||0!==l&&"string"!=typeof l&&""!==m?e.handleExpense(r,l,m):w.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"});break;case"incomeRemove":""!==n?e.handleIncomeRemove(n):w.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"});break;default:w.a.fire({title:"Error!",text:"Please fill all fields",icon:"error"})}i({incomeAmount:0,expense:"",expenseAmount:0,expenseType:""})}},"Add transaction"),r.a.createElement("button",{className:"form-btn btn btn-green",onClick:e.updateDB},"Save"))))}var S=t(25);t(397);function C(e){var a=e.summary;e.totalExpenses;return r.a.createElement("div",null,r.a.createElement("h2",{className:"centered"},"Summary:"),r.a.createElement(S.b,{width:300,height:300,data:a,margins:{left:-40}},r.a.createElement(S.c,{strokeDasharray:"1 1"}),r.a.createElement(S.f,{dataKey:"name"}),r.a.createElement(S.g,{width:40}),r.a.createElement(S.e,null),r.a.createElement(S.d,null),r.a.createElement(S.a,{dataKey:"amount",name:"Money spent",fill:"#2196f3 ",label:!0})))}var I="https://moonbyt3-finance-tracker-api.glitch.me/api/finance-account";function D(){var e=Object(n.useState)(0),a=Object(E.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),m=Object(E.a)(l,2),o=m[0],s=m[1],u=Object(n.useState)([]),f=Object(E.a)(u,2),b=f[0],N=f[1],x=Object(n.useState)([]),_=Object(E.a)(x,2),g=_[0],j=_[1],w=Object(n.useState)(0),A=Object(E.a)(w,2),S=A[0],D=A[1],R=Object(n.useState)(0),T=Object(E.a)(R,2),B=T[0],$=T[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(p.a.mark((function e(){var a,t,n,r,l,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(I);case 2:a=e.sent,t=a.data.results[0],n=t.balance,r=t.income,l=t.income_date,m=t.expense,D(n),c(r),s(l),N(m);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=b.map((function(e,a,t){e[1];for(var n=e[2],r={name:"",amount:0},c=0;c<b.length;c++)n===b[c][2]&&(console.log(n),r.name=n,r.amount+=Number(b[c][1]));return r})),a=h.a.uniqWith(e,h.a.isEqual);j(a),$(H())}),[b]);var H=function(){return b.reduce((function(e,a){return Number(e)+Number(a[1])}),0)};return r.a.createElement("div",{className:"tracker"},r.a.createElement("div",{className:"tracker-panel"}),r.a.createElement("div",{className:"tracker-panel"},r.a.createElement(y,{balance:S,income:t,incomeDate:o,expenseAmount:H()}),r.a.createElement(k,{expense:b,handleDeleteHistoryItem:function(e,a){var t=Object(i.a)(b);-1!==a&&(t.splice(a,1),N(t),D(S+e))}}),r.a.createElement(O,{income:t,handleIncome:function(e){c(Number(t)+Number(e)),s((new Date).toLocaleDateString()),D(S+Number(e))},handleExpense:function(e,a,t){N([].concat(Object(i.a)(b),[[e,a,t.toLowerCase()]])),D(S-Number(a))},handleIncomeRemove:function(e){c(Number(t)-Number(e)),D(S-Number(e))},updateDB:function(){v.a.put("".concat(I,"/0"),{_id:0,name:"admin",balance:S,income:t,income_date:o,expense:b},{headers:{"Content-type":"application/json"}}).catch((function(e){console.log(e)}))}})),r.a.createElement("div",{className:"tracker-panel"},r.a.createElement(C,{summary:g,totalExpenses:B})))}var R=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(m.a,{basename:"finance-tracker"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"header"},r.a.createElement("nav",{className:"navigation"},r.a.createElement(m.b,{to:"/",className:"navigation__link"},"Home"),r.a.createElement(m.b,{to:"/about",className:"navigation__link"},"About")))),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:D}),r.a.createElement(o.a,{path:"/about",component:s}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[196,1,2]]]);
//# sourceMappingURL=main.3db7dee7.chunk.js.map